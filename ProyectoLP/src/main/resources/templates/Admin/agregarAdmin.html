<!-- Modal de Agregar Administrador -->
<div class="modal fade" id="agregarAdminModal">
    <div class="modal-dialog modal-lg">
        <div class="modal-content">
            <div class="modal-header bg-info text-dark">
                <h5 class="modal-title">Agregar Administrador</h5> 
                <button class="btn-close" data-bs-dismiss="modal"></button>               
            </div>

            <form id="agregarAdminForm" th:action="@{/agregar}" method="post"  >

                <div class="modal-body">
                    <div class="form-group mb-3 was-validated">
                        <label for="usuario">Usuario</label>
                        <input type="text" class="form-control" id="usuario" name="usuario" required/>
                    </div>
                    <div class="form-group mb-3 was-validated">
                        <label for="correo">Correo</label>
                        <input type="email" class="form-control" id="correo" name="correo" required/>
                    </div>
                    <div class="form-group mb-3 was-validated">
                        <label for="password">Contraseña</label>
                        <input type="password" class="form-control"id="password" name="password" required/>
                    </div>
   			   <div class="form-group mb-3">
					    <label for="imagen">Imagen</label>
					    <div class="form-check">
					        <input class="form-check-input" type="radio" name="imagenOption" id="urlOption" value="url" checked>
					        <label class="form-check-label" for="urlOption">URL</label>
					    </div>
					    <div class="form-check">
					        <input class="form-check-input" type="radio" name="imagenOption" id="fileOption" value="file">
					        <label class="form-check-label" for="fileOption">Subir Archivo</label>
					    </div>
					    <input type="text" class="form-control" id="urlInput" name="foto" placeholder="Ingrese la URL de la imagen" />
					    <input type="file" class="form-control" id="fileInput" name="nada" style="display: none;"/>
					</div> 
                </div> 
                <div class="modal-footer">
                    <!-- Botón para mostrar la alerta -->
                    <button type="button" class="btn btn-primary" onclick="guardarAdmin()">Guardar</button>
                    <!-- Botón de enviar formulario (inicialmente oculto) -->
                    <button type="submit" id="submitAgregar" style="display: none;"></button>

                </div>
            </form>
        </div>
    </div>
    
<script>
function guardarAdmin() {
    var usuario = document.getElementById('usuario').value;
    var correo = document.getElementById('correo').value;
    var password = document.getElementById('password').value;
  

    if (usuario.trim() === '' || correo.trim() === '' || password.trim() === '' ) {
        Swal.fire({
            title: 'Error',
            text: 'Por favor, completa todos los campos del formulario.',
            icon: 'error',
            confirmButtonText: 'OK'
        });
    } else {
        Swal.fire({
            title: 'Administrador Agregado!',
            text: 'Hiciste clic en el botón!',
            icon: 'success',
            confirmButtonText: 'OK'
        }).then((result) => {
            // Si el usuario hace clic en "OK", activa el evento de clic del botón de enviar formulario
            if (result.isConfirmed) {
                // Encuentra el botón de enviar formulario por su ID y haz clic en él
                var submitButton = document.getElementById('submitAgregar');
                submitButton.click();
            }
        });
    }
}

</script>
    
    
<script>

var nuevoNombre = 'nada';		
var imagen = 'foto';
urlOption.addEventListener("change", function() {
    if (urlOption.checked) {
        urlInput.style.display = "block"; // Muestra el campo de URL
        fileInput.style.display = "none"; // Oculta el campo de archivo

        fileInput.setAttribute('name', nuevoNombre);
        urlInput.setAttribute('name',imagen);
    }
});

fileOption.addEventListener("change", function() {
    if (fileOption.checked) {
        fileInput.style.display = "block"; // Muestra el campo de archivo
        urlInput.style.display = "none"; // Oculta el campo de URL

        urlInput.setAttribute('name', nuevoNombre);
        fileInput.setAttribute('name',imagen);
    }
});

	</script>    
    
    
</div>